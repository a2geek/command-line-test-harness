commands:
  cat:
    main-class: io.github.a2geek.clth.CatFile
    system-exit: yes
  echo:
    main-class: io.github.a2geek.clth.Echo
    system-exit: no

files:
  mixed:
    type: text
    content: Hello World!
  expectedHelp:
    type: text
    content: |
      Usage: cat [ --lower | --upper ] FILE...
      Concatenate FILE(s) to standard output.

tests:
  - name: test case behavior
    steps:
      - command: cat $mixed
        stdout: Hello World!
      - command: cat --lower $mixed
        stdout: hello world!
      - command: cat --upper $mixed
        stdout: HELLO WORLD!
  - name: test help
    steps:
      - command: cat --help
        # Using "file" entry
        stdout: $expectedHelp
        criteria:
          match: contains
  - name: test from actual file
    steps:
      - command: cat --upper -
        stdin: file:file.txt
        criteria:
          whitespace: trim
        stdout: |
          THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG.
  - name: test no args
    steps:
      - command: cat
        rc: 1
        # Embedding expected output
        criteria:
          whitespace: trim
        stderr: |
          Usage: cat [ --lower | --upper ] FILE...
          Concatenate FILE(s) to standard output.
  - name: empty echo
    steps:
      - command: echo
        criteria:
          whitespace: trim
        stdout: ""
  - name: normal echo
    steps:
      - command: echo Hello World
        criteria:
          match: exact
        stdout: "Hello World"
  - name: ignoring stdout
    steps:
      - command: echo This is ignored
        # Note no stdout, which indicates the output is ignored
